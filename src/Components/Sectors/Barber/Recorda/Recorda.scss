// /* Recorda.scss */
// :root{
//   --primary:#f7d74f;
//   --primary-dark:#d4b800;
//   --text:#0f172a;
//   --muted:#6b7280;
//   --border:#e5e7eb;
//   --surface:#ffffff;
//   --overlay:#0b1220cc;
//   --safe-pad:72px;
// }

// $radius:16px;
// $shadow:0 8px 28px rgba(2,6,23,.12);
// $slot-h:56px;
// $col-header-h:56px;

// .barberrecorda, .barberrecorda *{ box-sizing:border-box; }

// .barberrecorda{
//   background:var(--surface);
//   border-radius:$radius;
//   box-shadow:$shadow;
//   padding:14px;
//   display:flex; flex-direction:column; gap:10px;
//   color:var(--text);

//   /* top bar */
//   &__topBar{ display:grid; grid-template-columns:180px 240px auto; gap:8px; align-items:center; & > .barberrecorda__btn{justify-self:end} }
//   &__btn{ display:inline-flex;align-items:center;gap:8px; padding:9px 12px;border-radius:12px;border:1px solid transparent; cursor:pointer;transition:.15s;font-weight:800;font-size:13px;background:#fff;color:var(--text);
//     svg{width:16px;height:16px} &:active{transform:translateY(1px)}
//     &--primary{background:var(--primary);color:#111;&:hover{background:var(--primary-dark)}}
//     &--secondary{border:1px solid var(--border);&:hover{background:#f9fafb}}
//     &--square{width:40px;height:40px;display:grid;place-items:center;padding:0;border-radius:12px}
//   }

//   /* date filter */
//   &__dateFilter{position:relative}
//   &__dateIcon{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:var(--muted);font-size:13px}
//   &__dateInput{ width:100%;height:40px;padding:6px 10px 6px 34px;border:1px solid var(--border); border-radius:12px;font-size:13px;background:#fff;&:focus{outline:none;border-color:var(--primary)} }
//   &__comboTop{min-height:40px}

//   /* calendar */
//   &__calendar{display:grid;grid-template-columns:58px 1fr;gap:8px;min-height:240px;}
//   &__timeGutter{ position:sticky; left:0; align-self:start; background:#fff; border:1px solid var(--border); border-radius:12px; box-shadow:$shadow; overflow:hidden; }
//   &__timeHeader{background:var(--primary);border-bottom:1px solid var(--primary); height:$col-header-h;}
//   &__timeCell{ height:$slot-h; display:flex; align-items:center; justify-content:center; padding:0 4px; color:var(--muted); font-size:12px; font-variant-numeric:tabular-nums; text-align:center; }
//   &__timeCell.is-busy span{ visibility:hidden; }
//   &__colsWrap{ overflow-x:auto; overflow-y:hidden; border-radius:12px; border:1px solid var(--border); background:#fff; box-shadow:$shadow; padding-bottom:8px; }
//   &__cols{display:flex; gap:12px; position:relative; padding:8px}
//   &__calCol{ position:relative; flex:0 0 360px; min-width:320px; max-width:440px; border:1px solid var(--border); border-radius:14px; background:#fff; overflow:hidden; }
//   &__calHeader{ position:sticky; top:0; z-index:2; display:grid; grid-template-columns:1fr; align-items:center; padding:8px 10px; background:var(--primary); color:#111; border-bottom:1px solid var(--primary); height:$col-header-h; }
//   &__colTitle{display:flex;align-items:center;gap:8px;min-width:0}
//   &__name{font-weight:900; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; font-size:15px}
//   &__avatar{ width:32px;height:32px;border-radius:999px;background:#fff; display:grid;place-items:center;font-weight:900;font-size:14px;color:#111; box-shadow:0 2px 6px rgba(2,6,23,.18);flex:0 0 32px; }
//   &__gridLines{position:absolute; left:0; right:0; z-index:0}
//   &__gridLine{height:$slot-h; border-top:1px dashed #f3f0dc}
//   &__gridLine:first-child{border-top:0}
//   &__eventsArea{position:relative; padding-bottom:var(--safe-pad);}
//   &__emptyInCol{position:absolute; top:50%; left:0; right:0; transform:translateY(-50%); text-align:center; color:var(--muted); font-size:13px}

//   &__event{ position:absolute; z-index:1; border:1px solid; border-radius:16px; padding:12px; cursor:pointer; overflow:hidden; transition:transform .06s ease, background .06s ease, box-shadow .06s ease; &:hover{transform:translateY(-1px); background:#f9fafb; box-shadow:0 6px 18px rgba(2,6,23,.12)} }
//   &__eventHeader{display:flex; align-items:center; justify-content:space-between; margin-bottom:4px}
//   &__eventTime{display:flex; gap:6px; align-items:center; font-weight:900; font-size:14px; font-variant-numeric:tabular-nums; line-height:1.15; white-space:nowrap;}
//   &__eventSvc{margin-top:0; font-weight:800; font-size:14px; overflow:hidden; text-overflow:ellipsis; -webkit-line-clamp:2; display:-webkit-box; -webkit-box-orient:vertical;}
//   &__eventClient{color:var(--text); font-size:13px; font-weight:700; margin-top:2px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;}
//   &__eventPhone{color:var(--muted); font-size:11px; font-family:ui-monospace, SFMono-Regular, Menlo, monospace; margin-top:2px}

//   &__badge{display:inline-flex;align-items:center;padding:3px 8px;border-radius:999px;font-size:10.5px;font-weight:800;border:1px solid transparent;white-space:nowrap}
//   &__badge--booked{background:rgba(59,130,246,.15);color:#3b82f6;border-color:rgba(59,130,246,.35)}
//   &__badge--confirmed{background:rgba(99,102,241,.15);color:#6366f1;border-color:rgba(99,102,241,.35)}
//   &__badge--completed{background:rgba(16,185,129,.15);color:#10b981;border-color:rgba(16,185,129,.35)}
//   &__badge--canceled{background:rgba(239,68,68,.15);color:#ef4444;border-color:rgba(239,68,68,.35)}
//   &__badge--no_show{background:rgba(234,179,8,.15);color:#eab308;border-color:rgba(234,179,8,.35)}

//   /* ComboBox */
//   &__combo{position:relative}
//   &__comboTrigger{ width:100%;display:flex;align-items:center;justify-content:space-between;gap:10px; padding:10px 12px;border:1px solid var(--border);border-radius:12px;background:#fff;cursor:pointer;min-height:44px;line-height:1.1; &:hover{background:#f9fafb} }
//   &__comboText{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px}
//   &__comboText.is-placeholder{color:var(--muted)}
//   &__comboCaret{opacity:.7}
//   &__comboPopup{ position:absolute;left:0;right:0;top:calc(100% + 6px);background:#fff;border:1px solid var(--border); border-radius:12px;box-shadow:0 18px 44px rgba(2,6,23,.18);display:flex;flex-direction:column;overflow:hidden;z-index:500; }
//   &__comboSearch{position:relative;padding:10px;background:#fff}
//   &__comboSearchIcon{position:absolute;left:14px;top:50%;transform:translateY(-50%);color:var(--muted);font-size:14px}
//   &__comboSearchInput{ width:100%;height:40px;padding:8px 12px 8px 36px;border:1px solid var(--border);border-radius:10px;font-size:14px; &:focus{outline:none;border-color:var(--primary)} }
//   &__comboList{overflow:auto;min-height:140px;max-height:360px}
//   &__comboList::-webkit-scrollbar{width:8px;height:8px}
//   &__comboList::-webkit-scrollbar-thumb{background:#e2e8f0;border-radius:8px}
//   &__comboEmpty{padding:12px;color:var(--muted);font-size:13px}
//   &__comboOption{ display:block;width:100%;text-align:left;padding:11px 12px;background:#fff;border:0;border-top:1px solid var(--border);cursor:pointer;font-size:14px; &:hover{background:#f9fafb}&:first-child{border-top:0} }
//   &__comboOption.is-disabled{ color:#94a3b8; cursor:not-allowed; background:#f8fafc; }

//   /* modal */
//   &__overlay{position:fixed; inset:0; z-index:90; background:var(--overlay); backdrop-filter:saturate(140%) blur(2px); display:flex; align-items:center; justify-content:center; padding:16px;}
//   &__overlay--inner{z-index:110}
//   &__modal{position:relative;width:min(980px,96vw);max-height:min(92vh,780px);background:#fff;border-radius:18px;box-shadow:0 24px 80px rgba(2,6,23,.3);display:grid;grid-template-rows:auto 1fr;overflow:hidden;}
//   &__modalHeader{display:flex;justify-content:space-between;align-items:center;padding:14px 18px;background:#fff;border-bottom:1px solid var(--border)}
//   &__modalTitle{margin:0;font-size:20px;font-weight:900;letter-spacing:.2px}
//   &__iconBtn{background:none;border:0;color:var(--muted);font-size:18px;cursor:pointer;&:hover{color:var(--text)}}

//   &__form{display:grid;grid-template-rows:1fr auto;min-height:0}

//   /* grid */
//   &__grid{ padding:14px;overflow:auto;min-height:0; display:grid;grid-template-columns:1fr 1fr;gap:12px;align-items:start; }
//   &__field{display:grid;gap:6px;min-height:66px; overflow:visible;}
//   &__field--services{ grid-column:1 / -1; }
//   &__field--full{grid-column:1/-1}
//   &__fieldRow{display:grid;grid-template-columns:1fr 40px;gap:8px}
//   &__label{font-size:13px;font-weight:700;color:var(--muted);line-height:1.1;display:flex;align-items:center;justify-content:space-between;gap:10px}
//   &__req{color:#ef4444}
//   &__input, &__textarea{ width:100%;border:1px solid var(--border);border-radius:12px;background:#fff;font-size:14px; &:focus{outline:none;border-color:var(--primary)}&::placeholder{color:var(--muted);opacity:.85} }
//   &__input{height:44px;padding:8px 12px}
//   &__textarea{min-height:88px;max-height:180px;resize:vertical;padding:10px;border-radius:12px}

//   .is-invalid .barberrecorda__label{color:#dc2626}
//   .is-invalid .barberrecorda__input{border-color:#dc2626}

//   &__footer{border-top:1px solid var(--border);padding:12px 14px;display:flex;gap:8px;align-items:center;justify-content:flex-end;background:#fff}
//   &__spacer{flex:1 1 auto}

//   /* services block */
//   &__svcField{ display:grid; grid-template-rows:auto 1fr auto; gap:8px; min-height:120px; max-height:300px; padding-bottom:6px; }
//   &__svcRow{ }
//   &__svcSummary{ margin-top:4px; display:flex;align-items:center;gap:10px; font-size:13px; color:#334155;font-weight:800; }

//   /* chips: натуральная ширина, много строк */
//   &__svcList{
//     display:flex; flex-wrap:wrap; gap:8px;
//     max-height:180px; overflow:auto; padding:8px;
//     border:1px dashed var(--border); border-radius:10px; background:#fafafa;
//   }
//   &__svcList::-webkit-scrollbar{width:8px;height:8px}
//   &__svcList::-webkit-scrollbar-thumb{background:#e2e8f0;border-radius:8px}

//   &__svcChip{ display:grid; grid-template-columns: 1fr auto; grid-template-rows:auto auto; grid-template-areas:"name del" "meta del"; gap:2px 8px; padding:6px 8px; border:1px solid var(--border); border-radius:10px; background:#fff; min-width:160px; max-width:100%; box-shadow:0 1px 3px rgba(2,6,23,.06); }
//   &__svcName{ grid-area:name; font-weight:800; font-size:13px; line-height:1.22; overflow:hidden; display:-webkit-box; -webkit-box-orient:vertical; -webkit-line-clamp:2; white-space:normal; word-break:break-word; }
//   &__svcMeta{ grid-area:meta; font-size:11.5px; color:#475569; white-space:nowrap; opacity:.95; }
//   &__svcDel{ grid-area:del; align-self:start; border:0;background:transparent;color:#64748b; cursor:pointer;display:grid;place-items:center;border-radius:8px; padding:4px; svg{width:12px;height:12px} &:hover{background:#f1f5f9;color:#0f172a} }

//   /* availability hint */
//   &__availHint{ margin-top:4px; font-size:12px; color:#475569 }

//   /* TimeField same height as inputs */
//   .br-time{ display:flex; align-items:center; gap:6px; height:44px; padding:0 10px; border:1px solid var(--border); border-radius:12px; background:#fff; }
//   .br-time__sep{font-weight:900; opacity:.75; font-size:16px}
//   .br-time select{ appearance:none;background:transparent;border:0;height:100%;padding:0 12px;font-size:16px;font-weight:800;color:var(--text);cursor:pointer; }
//   .br-time select:focus{ outline:none; border-radius:10px; }
//   .br-time__h{ min-width:72px; }
//   .br-time__m{ min-width:80px; }
//   .br-time option{ font-size:16px; line-height:1.6; padding:8px 10px; }
//   .br-time select::-webkit-scrollbar{ width:12px; }
//   .br-time select::-webkit-scrollbar-thumb{ background:#e2e8f0; border-radius:10px; }
//   .is-invalid-input{ border-color:#dc2626 !important; box-shadow:0 0 0 3px rgba(220,38,38,.08) !important; }

//   /* alerts */
//   &__alert{padding:10px 12px;border-radius:12px;border:1px solid #f4d7d7;background:#fff6f6;color:#b91c1c;font-weight:600}
//   &__alert--inModal{margin:10px 14px 0}

//   /* mini modal */
//   &__overlay--inner{ background: var(--overlay); z-index: 110; padding: 16px; display: flex; align-items: center; justify-content: center; }
//   &__mini{ width:min(520px,94vw); max-height:min(86vh,640px); background:#fff; border:1px solid var(--border); border-radius:18px; box-shadow:0 22px 70px rgba(2,6,23,.35); display:grid; grid-template-rows:auto 1fr; overflow:hidden; }
//   &__miniHeader{ display:flex; align-items:center; justify-content:space-between; gap:12px; padding:14px 16px; border-bottom:1px solid var(--border); background:#fff; }
//   &__miniTitle{margin:0;font-size:20px;font-weight:900;letter-spacing:.2px}
//   &__miniForm{padding:14px 16px; display:grid; gap:12px; overflow:auto;}
//   &__mini .barberrecorda__field{display:grid;gap:6px;min-height:unset}
//   &__mini .barberrecorda__label{font-size:13px;font-weight:700;color:var(--muted);line-height:1.1}
//   &__mini .barberrecorda__input{ height:48px;padding:10px 14px;border-radius:14px;background:#fff;border:1px solid var(--border);font-size:14px; &:focus{outline:none;border-color:var(--primary-dark);box-shadow:0 0 0 3px rgba(247,215,79,.35)} &::placeholder{color:var(--muted);opacity:.9} }
//   &__mini .barberrecorda__footer{ margin-top:2px;border-top:1px solid var(--border);background:#fff;padding:12px 16px;display:flex;gap:10px;justify-content:flex-end;align-items:center; }
//   &__mini .barberrecorda__btn{border-radius:12px;font-weight:800;padding:10px 16px}
//   &__mini .barberrecorda__iconBtn{ background:none;border:0;color:var(--muted);font-size:18px;cursor:pointer;padding:6px;border-radius:10px; &:hover{color:var(--text);background:#f8fafc} }
//   &__mini .is-invalid .barberrecorda__label{color:#dc2626}
//   &__mini .is-invalid .barberrecorda__input{border-color:#dc2626;box-shadow:0 0 0 3px rgba(220,38,38,.12)}

//   /* responsive */
//   @media (max-width:767.98px){
//     padding:12px;
//     &__topBar{grid-template-columns:1fr 1fr}
//     &__calendar{grid-template-columns:54px 1fr}
//     &__calCol{flex:0 0 86vw; min-width:86vw}
//     &__grid{grid-template-columns:1fr}
//     &__svcList{ max-height:200px; }
//   }
// }

// @media (prefers-reduced-motion:reduce){
//   .barberrecorda .barberrecorda__btn{transition:none !important}
// }




:root{
  --primary:#f7d74f;
  --primary-dark:#d4b800;
  --text:#0f172a;
  --muted:#6b7280;
  --border:#e5e7eb;
  --surface:#ffffff;
  --overlay:#0b1220cc;
  --safe-pad:72px;
}

$radius:16px;
$shadow:0 8px 28px rgba(2,6,23,.12);
$slot-h:56px;
$col-header-h:56px;

.barberrecorda, .barberrecorda *{ box-sizing:border-box; }

.barberrecorda{
  background:var(--surface);
  border-radius:$radius;
  box-shadow:$shadow;
  padding:14px;
  display:flex;
  flex-direction:column;
  gap:10px;
  color:var(--text);

  /* top bar */
  &__topBar{
    display:grid;
    grid-template-columns:180px 240px auto;
    gap:8px;
    align-items:center;
    & > .barberrecorda__btn{justify-self:end}
  }
  &__btn{
    display:inline-flex;
    align-items:center;
    gap:8px;
    padding:9px 12px;
    border-radius:12px;
    border:1px solid transparent;
    cursor:pointer;
    transition:.15s;
    font-weight:800;
    font-size:13px;
    background:#fff;
    color:var(--text);
    svg{width:16px;height:16px}
    &:active{transform:translateY(1px)}
    &--primary{
      background:var(--primary);
      color:#111;
      &:hover{background:var(--primary-dark)}
    }
    &--secondary{
      border:1px solid var(--border);
      &:hover{background:#f9fafb}
    }
    &--square{
      width:40px;
      height:40px;
      display:grid;
      place-items:center;
      padding:0;
      border-radius:12px;
    }
  }

  /* date filter */
  &__dateFilter{position:relative}
  &__dateIcon{
    position:absolute;
    left:12px;
    top:50%;
    transform:translateY(-50%);
    color:var(--muted);
    font-size:13px;
  }
  &__dateInput{
    width:100%;
    height:40px;
    padding:6px 10px 6px 34px;
    border:1px solid var(--border);
    border-radius:12px;
    font-size:13px;
    background:#fff;
    &:focus{
      outline:none;
      border-color:var(--primary);
    }
  }
  &__comboTop{min-height:40px}

  /* calendar */
  &__calendar{
    display:grid;
    grid-template-columns:58px 1fr;
    gap:8px;
    min-height:240px;
  }
  &__timeGutter{
    position:sticky;
    left:0;
    align-self:start;
    background:#fff;
    border:1px solid var(--border);
    border-radius:12px;
    box-shadow:$shadow;
    overflow:hidden;
  }
  &__timeHeader{
    background:var(--primary);
    border-bottom:1px solid var(--primary);
    height:$col-header-h;
  }
  &__timeCell{
    height:$slot-h;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:0 4px;
    color:var(--muted);
    font-size:12px;
    font-variant-numeric:tabular-nums;
    text-align:center;
  }
  &__timeCell.is-busy span{ visibility:hidden; }

  &__colsWrap{
    overflow-x:auto;
    overflow-y:hidden;
    border-radius:12px;
    border:1px solid var(--border);
    background:#fff;
    box-shadow:$shadow;
    padding-bottom:8px;
  }
  &__cols{
    display:flex;
    gap:12px;
    position:relative;
    padding:8px;
  }
  &__calCol{
    position:relative;
    flex:0 0 360px;
    min-width:320px;
    max-width:440px;
    border:1px solid var(--border);
    border-radius:14px;
    background:#fff;
    overflow:hidden;
  }
  &__calHeader{
    position:sticky;
    top:0;
    z-index:2;
    display:grid;
    grid-template-columns:1fr;
    align-items:center;
    padding:8px 10px;
    background:var(--primary);
    color:#111;
    border-bottom:1px solid var(--primary);
    height:$col-header-h;
  }
  &__colTitle{
    display:flex;
    align-items:center;
    gap:8px;
    min-width:0;
  }
  &__name{
    font-weight:900;
    overflow:hidden;
    text-overflow:ellipsis;
    white-space:nowrap;
    font-size:15px;
  }
  &__avatar{
    width:32px;
    height:32px;
    border-radius:999px;
    background:#fff;
    display:grid;
    place-items:center;
    font-weight:900;
    font-size:14px;
    color:#111;
    box-shadow:0 2px 6px rgba(2,6,23,.18);
    flex:0 0 32px;
  }
  &__gridLines{
    position:absolute;
    left:0;
    right:0;
    z-index:0;
  }
  &__gridLine{
    height:$slot-h;
    border-top:1px dashed #f3f0dc;
  }
  &__gridLine:first-child{border-top:0}
  &__eventsArea{
    position:relative;
    padding-bottom:var(--safe-pad);
  }
  &__emptyInCol{
    position:absolute;
    top:50%;
    left:0;
    right:0;
    transform:translateY(-50%);
    text-align:center;
    color:var(--muted);
    font-size:13px;
  }

  &__event{
    position:absolute;
    z-index:1;
    border:1px solid;
    border-radius:16px;
    padding:12px;
    cursor:pointer;
    overflow:hidden;
    transition:transform .06s ease, background .06s ease, box-shadow .06s ease;
    &:hover{
      transform:translateY(-1px);
      background:#f9fafb;
      box-shadow:0 6px 18px rgba(2,6,23,.12);
    }
  }
  &__eventHeader{
    display:flex;
    align-items:center;
    justify-content:space-between;
    margin-bottom:4px;
  }
  &__eventTime{
    display:flex;
    gap:6px;
    align-items:center;
    font-weight:900;
    font-size:14px;
    font-variant-numeric:tabular-nums;
    line-height:1.15;
    white-space:nowrap;
  }
  &__eventSvc{
    margin-top:0;
    font-weight:800;
    font-size:14px;
    overflow:hidden;
    text-overflow:ellipsis;
    -webkit-line-clamp:2;
    display:-webkit-box;
    -webkit-box-orient:vertical;
  }
  &__eventClient{
    color:var(--text);
    font-size:13px;
    font-weight:700;
    margin-top:2px;
    overflow:hidden;
    text-overflow:ellipsis;
    white-space:nowrap;
  }
  &__eventPhone{
    color:var(--muted);
    font-size:11px;
    font-family:ui-monospace, SFMono-Regular, Menlo, monospace;
    margin-top:2px;
  }

  &__badge{
    display:inline-flex;
    align-items:center;
    padding:3px 8px;
    border-radius:999px;
    font-size:10.5px;
    font-weight:800;
    border:1px solid transparent;
    white-space:nowrap;
  }
  &__badge--booked{
    background:rgba(59,130,246,.15);
    color:#3b82f6;
    border-color:rgba(59,130,246,.35);
  }
  &__badge--confirmed{
    background:rgba(99,102,241,.15);
    color:#6366f1;
    border-color:rgba(99,102,241,.35);
  }
  &__badge--completed{
    background:rgba(16,185,129,.15);
    color:#10b981;
    border-color:rgba(16,185,129,.35);
  }
  &__badge--canceled{
    background:rgba(239,68,68,.15);
    color:#ef4444;
    border-color:rgba(239,68,68,.35);
  }
  &__badge--no_show{
    background:rgba(234,179,8,.15);
    color:#eab308;
    border-color:rgba(234,179,8,.35);
  }

  /* ComboBox */
  &__combo{position:relative}
  &__comboTrigger{
    width:100%;
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:10px;
    padding:10px 12px;
    border:1px solid var(--border);
    border-radius:12px;
    background:#fff;
    cursor:pointer;
    min-height:44px;
    line-height:1.1;
    &:hover{background:#f9fafb}
  }
  &__comboText{
    overflow:hidden;
    text-overflow:ellipsis;
    white-space:nowrap;
    font-size:14px;
  }
  &__comboText.is-placeholder{color:var(--muted)}
  &__comboCaret{opacity:.7}
  &__comboPopup{
    position:absolute;
    left:0;right:0;
    top:calc(100% + 6px);
    background:#fff;
    border:1px solid var(--border);
    border-radius:12px;
    box-shadow:0 18px 44px rgba(2,6,23,.18);
    display:flex;
    flex-direction:column;
    overflow:hidden;
    z-index:500;
  }
  &__comboSearch{
    position:relative;
    padding:10px;
    background:#fff;
  }
  &__comboSearchIcon{
    position:absolute;
    left:14px;
    top:50%;
    transform:translateY(-50%);
    color:var(--muted);
    font-size:14px;
  }
  &__comboSearchInput{
    width:100%;
    height:40px;
    padding:8px 12px 8px 36px;
    border:1px solid var(--border);
    border-radius:10px;
    font-size:14px;
    &:focus{
      outline:none;
      border-color:var(--primary);
    }
  }
  &__comboList{
    overflow:auto;
    min-height:140px;
    max-height:360px;
  }
  &__comboList::-webkit-scrollbar{width:8px;height:8px}
  &__comboList::-webkit-scrollbar-thumb{background:#e2e8f0;border-radius:8px}
  &__comboEmpty{
    padding:12px;
    color:var(--muted);
    font-size:13px;
  }
  &__comboOption{
    display:block;
    width:100%;
    text-align:left;
    padding:11px 12px;
    background:#fff;
    border:0;
    border-top:1px solid var(--border);
    cursor:pointer;
    font-size:14px;
    &:hover{background:#f9fafb}
    &:first-child{border-top:0}
  }
  &__comboOption.is-disabled{
    color:#94a3b8;
    cursor:not-allowed;
    background:#f8fafc;
  }

  /* modal */
  &__overlay{
    position:fixed;
    inset:0;
    z-index:10000; /* чтоб перекрыть сайдбар */
    background:var(--overlay);
    backdrop-filter:saturate(140%) blur(2px);
    display:flex;
    align-items:center;
    justify-content:center;
    padding:16px;
  }
  &__overlay--inner{
    z-index:10010;
  }
  &__modal{
    position:relative;
    width:min(1040px, 94vw);
    max-height:min(92vh,780px);
    background:#fff;
    border-radius:18px;
    box-shadow:0 24px 80px rgba(2,6,23,.3);
    display:grid;
    grid-template-rows:auto 1fr;
    overflow:hidden;
  }
  &__modalHeader{
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:14px 18px;
    background:#fff;
    border-bottom:1px solid var(--border);
  }
  &__modalTitle{
    margin:0;
    font-size:20px;
    font-weight:900;
    letter-spacing:.2px;
  }
  &__iconBtn{
    background:none;
    border:0;
    color:var(--muted);
    font-size:18px;
    cursor:pointer;
    &:hover{color:var(--text)}
  }

  &__form{
    display:grid;
    grid-template-rows:1fr auto;
    min-height:0;
  }

  /* grid */
  &__grid{
    padding:14px;
    overflow:auto;
    min-height:0;
    display:grid;
    gap:12px;
    align-items:flex-start;
  }

  /* две колонки внутри модалки */
  &__grid--split{
    grid-template-columns:minmax(0,2.1fr) minmax(280px,1.1fr);
    column-gap:16px;
  }

  &__gridMain{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:12px;
    align-items:flex-start;
    min-height:0;
  }

  &__gridSide{
    align-self:stretch;
    min-width:0;
  }

  &__sideCard{
    position:sticky;
    top:8px;
    border-radius:16px;
    border:1px solid var(--border);
    background:#f9fafb;
    box-shadow:0 14px 40px rgba(15,23,42,.18);
    padding:12px;
    display:grid;
    gap:10px;
  }

  &__sideRow{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:10px;
  }

  &__field{
    display:grid;
    gap:6px;
    min-height:66px;
    overflow:visible;
  }
  &__field--services{
    grid-column:1 / -1;
  }
  &__field--full{
    grid-column:1/-1;
  }
  &__fieldRow{
    display:grid;
    grid-template-columns:1fr 40px;
    gap:8px;
  }
  &__label{
    font-size:13px;
    font-weight:700;
    color:var(--muted);
    line-height:1.1;
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:10px;
  }
  &__req{color:#ef4444}
  &__input,
  &__textarea{
    width:100%;
    border:1px solid var(--border);
    border-radius:12px;
    background:#fff;
    font-size:14px;
    &:focus{
      outline:none;
      border-color:var(--primary);
    }
    &::placeholder{
      color:var(--muted);
      opacity:.85;
    }
  }
  &__input{
    height:44px;
    padding:8px 12px;
  }
  &__textarea{
    min-height:88px;
    max-height:180px;
    resize:vertical;
    padding:10px;
    border-radius:12px;
  }

  .is-invalid .barberrecorda__label{color:#dc2626}
  .is-invalid .barberrecorda__input{border-color:#dc2626}

  &__footer{
    border-top:1px solid var(--border);
    padding:12px 14px;
    display:flex;
    gap:8px;
    align-items:center;
    justify-content:flex-end;
    background:#fff;
  }
  &__spacer{flex:1 1 auto}

  /* services block */
  &__svcField{
    display:grid;
    grid-template-rows:auto 1fr auto;
    gap:8px;
    min-height:120px;
    max-height:300px;
    padding-bottom:6px;
  }
  &__svcRow{}
  &__svcSummary{
    margin-top:4px;
    display:flex;
    align-items:center;
    gap:10px;
    font-size:13px;
    color:#334155;
    font-weight:800;
  }

  &__svcList{
    display:flex;
    flex-wrap:wrap;
    gap:8px;
    max-height:180px;
    overflow:auto;
    padding:8px;
    border:1px dashed var(--border);
    border-radius:10px;
    background:#fafafa;
  }
  &__svcList::-webkit-scrollbar{width:8px;height:8px}
  &__svcList::-webkit-scrollbar-thumb{background:#e2e8f0;border-radius:8px}

  &__svcChip{
    display:grid;
    grid-template-columns:1fr auto;
    grid-template-rows:auto auto;
    grid-template-areas:
      "name del"
      "meta del";
    gap:2px 8px;
    padding:6px 8px;
    border:1px solid var(--border);
    border-radius:10px;
    background:#fff;
    min-width:160px;
    max-width:100%;
    box-shadow:0 1px 3px rgba(2,6,23,.06);
  }
  &__svcName{
    grid-area:name;
    font-weight:800;
    font-size:13px;
    line-height:1.22;
    overflow:hidden;
    display:-webkit-box;
    -webkit-box-orient:vertical;
    -webkit-line-clamp:2;
    white-space:normal;
    word-break:break-word;
  }
  &__svcMeta{
    grid-area:meta;
    font-size:11.5px;
    color:#475569;
    white-space:nowrap;
    opacity:.95;
  }
  &__svcDel{
    grid-area:del;
    align-self:start;
    border:0;
    background:transparent;
    color:#64748b;
    cursor:pointer;
    display:grid;
    place-items:center;
    border-radius:8px;
    padding:4px;
    svg{width:12px;height:12px}
    &:hover{
      background:#f1f5f9;
      color:#0f172a;
    }
  }

  /* availability hint */
  &__availHint{
    margin-top:4px;
    font-size:12px;
    color:#475569;
  }

  /* TimeField same height as inputs */
  .br-time{
    display:flex;
    align-items:center;
    gap:6px;
    height:44px;
    padding:0 10px;
    border:1px solid var(--border);
    border-radius:12px;
    background:#fff;
  }
  .br-time__sep{
    font-weight:900;
    opacity:.75;
    font-size:16px;
  }
  .br-time select{
    appearance:none;
    background:transparent;
    border:0;
    height:100%;
    padding:0 12px;
    font-size:16px;
    font-weight:800;
    color:var(--text);
    cursor:pointer;
  }
  .br-time select:focus{
    outline:none;
    border-radius:10px;
  }
  .br-time__h{min-width:72px;}
  .br-time__m{min-width:80px;}
  .br-time option{
    font-size:16px;
    line-height:1.6;
    padding:8px 10px;
  }
  .br-time select::-webkit-scrollbar{width:12px;}
  .br-time select::-webkit-scrollbar-thumb{
    background:#e2e8f0;
    border-radius:10px;
  }
  .is-invalid-input{
    border-color:#dc2626 !important;
    box-shadow:0 0 0 3px rgba(220,38,38,.08) !important;
  }

  /* alerts */
  &__alert{
    padding:10px 12px;
    border-radius:12px;
    border:1px solid #f4d7d7;
    background:#fff6f6;
    color:#b91c1c;
    font-weight:600;
  }
  &__alert--inModal{margin:10px 14px 0}

  /* mini modal */
  &__overlay--inner{
    background:var(--overlay);
    z-index:10010;
    padding:16px;
    display:flex;
    align-items:center;
    justify-content:center;
  }
  &__mini{
    width:min(520px,94vw);
    max-height:min(86vh,640px);
    background:#fff;
    border:1px solid var(--border);
    border-radius:18px;
    box-shadow:0 22px 70px rgba(2,6,23,.35);
    display:grid;
    grid-template-rows:auto 1fr;
    overflow:hidden;
  }
  &__miniHeader{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
    padding:14px 16px;
    border-bottom:1px solid var(--border);
    background:#fff;
  }
  &__miniTitle{
    margin:0;
    font-size:20px;
    font-weight:900;
    letter-spacing:.2px;
  }
  &__miniForm{
    padding:14px 16px;
    display:grid;
    gap:12px;
    overflow:auto;
  }
  &__mini .barberrecorda__field{
    display:grid;
    gap:6px;
    min-height:unset;
  }
  &__mini .barberrecorda__label{
    font-size:13px;
    font-weight:700;
    color:var(--muted);
    line-height:1.1;
  }
  &__mini .barberrecorda__input{
    height:48px;
    padding:10px 14px;
    border-radius:14px;
    background:#fff;
    border:1px solid var(--border);
    font-size:14px;
    &:focus{
      outline:none;
      border-color:var(--primary-dark);
      box-shadow:0 0 0 3px rgba(247,215,79,.35);
    }
    &::placeholder{
      color:var(--muted);
      opacity:.9;
    }
  }
  &__mini .barberrecorda__footer{
    margin-top:2px;
    border-top:1px solid var(--border);
    background:#fff;
    padding:12px 16px;
    display:flex;
    gap:10px;
    justify-content:flex-end;
    align-items:center;
  }
  &__mini .barberrecorda__btn{
    border-radius:12px;
    font-weight:800;
    padding:10px 16px;
  }
  &__mini .barberrecorda__iconBtn{
    background:none;
    border:0;
    color:var(--muted);
    font-size:18px;
    cursor:pointer;
    padding:6px;
    border-radius:10px;
    &:hover{
      color:var(--text);
      background:#f8fafc;
    }
  }
  &__mini .is-invalid .barberrecorda__label{color:#dc2626}
  &__mini .is-invalid .barberrecorda__input{
    border-color:#dc2626;
    box-shadow:0 0 0 3px rgba(220,38,38,.12);
  }

  /* responsive */
  @media (max-width:767.98px){
    padding:12px;
    &__topBar{grid-template-columns:1fr 1fr}
    &__calendar{grid-template-columns:54px 1fr}
    &__calCol{flex:0 0 86vw; min-width:86vw}

    &__grid--split{
      grid-template-columns:1fr;
    }
    &__gridMain{
      grid-template-columns:1fr;
    }
    &__sideCard{
      position:static;
      box-shadow:0 6px 24px rgba(15,23,42,.16);
    }
    &__sideRow{
      grid-template-columns:1fr;
    }
    &__svcList{
      max-height:200px;
    }
  }
}

@media (prefers-reduced-motion:reduce){
  .barberrecorda .barberrecorda__btn{transition:none !important}
}
