:root{
  --primary:#f7d74f;
  --primary-dark:#d4b800;
  --text:#0f172a;
  --muted:#6b7280;
  --border:#e5e7eb;
  --surface:#fff;
}

.sklad-movements,
.sklad-movements * { box-sizing: border-box; }

/* контейнер */
.sklad-movements{
  --radius:14px; --shadow:0 10px 30px rgba(2,6,23,.12);
  --hpad:20px;

  background:var(--surface);
  border-radius:var(--radius);
  box-shadow:0 4px 16px rgba(0,0,0,.05);
  padding:24px;
  display:flex; flex-direction:column; gap:18px;
  color:var(--text);
}

/* header */
.sklad-movements__header{display:grid;grid-template-columns:1fr auto;gap:12px;align-items:end}
.sklad-movements__titleWrap{display:grid;gap:4px}
.sklad-movements__title{margin:0;font-weight:800;font-size:20px;display:inline-flex;gap:8px;align-items:center}
.sklad-movements__subtitle{font-size:13px;color:var(--muted)}
.sklad-movements__actions{display:flex;gap:10px;align-items:center;justify-self:end}

/* tabs */
.sklad-movements__tabs{display:flex;gap:8px;flex-wrap:wrap}
.sklad-movements__tab{
  padding:10px 14px;border:1px solid var(--border);border-radius:12px;background:#fff;font-weight:800;cursor:pointer;transition:.18s
}
.sklad-movements__tab:hover{background:#f9fafb}
.sklad-movements__tab.is-active{background:var(--primary);border-color:var(--primary)}

/* search */
.sklad-movements__search{position:relative}
.sklad-movements__searchInput{
  width:clamp(220px,32vw,320px);
  padding:10px 12px;border:1px solid var(--border);border-radius:12px;background:#fff;font-size:14px;
}
.sklad-movements__searchInput:focus{outline:none;border-color:var(--primary)}

/* buttons */
.sklad-movements__btn{
  display:inline-flex;align-items:center;gap:8px;
  padding:10px 14px;border-radius:12px;border:1px solid transparent;background:#fff;color:var(--text);font-weight:800;cursor:pointer;transition:.18s;
}
.sklad-movements__btn:active{transform:translateY(1px)}
.sklad-movements__btn--primary{background:var(--primary)}
.sklad-movements__btn--primary:hover{background:var(--primary-dark)}
.sklad-movements__btn--secondary{border:1px solid var(--border);background:#fff}
.sklad-movements__btn--secondary:hover{background:#f9fafb}
.sklad-movements__btnText{display:inline}

/* badge */
.sklad-movements__badge{padding:4px 8px;border-radius:999px;background:#f1f5f9;border:1px solid var(--border);font-weight:700;font-size:12px}

/* таблица (десктоп) */
.sklad-movements-table{
  border:1px solid var(--border);border-radius:12px;overflow:hidden;background:#fff;
}
.sklad-movements-table__table{width:100%;border-collapse:collapse;border-spacing:0}
.sklad-movements-table__head{background:rgba(0,0,0,.03);font-weight:800}
.sklad-movements-table__head .sklad-movements-table__col,
.sklad-movements-table__row .sklad-movements-table__col{
  padding:12px 14px;border-bottom:1px solid var(--border);text-align:left;
}
.sklad-movements-table__row:last-child .sklad-movements-table__col{border-bottom:none}
.sklad-movements-table__empty{padding:14px;text-align:center;color:var(--muted)}
.sklad-movements-table__table th:nth-child(1){min-width:100px}
.sklad-movements-table__table th:nth-child(2){min-width:100px}
.sklad-movements-table__table th:nth-child(3){min-width:140px}
.sklad-movements-table__table th:nth-child(5){min-width:100px}

/* pager */
.sklad-movements__pager{display:flex;justify-content:center;margin-top:10px;flex-wrap:wrap}
.sklad-movements__pageList{display:flex;gap:6px;list-style:none;margin:0;padding:0}
.sklad-movements__pageBtn{border:1px solid var(--border);background:#fff;padding:8px 12px;border-radius:10px;cursor:pointer}
.sklad-movements__pageBtn:hover{background:#f9fafb}
.sklad-movements__pageBtn.is-active{background:var(--primary);border-color:var(--primary);color:#111}

/* overlay + modal — всегда по центру */
.sklad-movements__overlay{position:fixed;inset:0;background:rgba(15,23,42,.55);backdrop-filter:saturate(140%) blur(2px);z-index:70}
.sklad-movements__modal{
  position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);
  width:min(860px,96vw);max-height:min(92vh,740px);
  background:#fff;border-radius:14px;box-shadow:var(--shadow);
  display:grid;grid-template-rows:auto 1fr;overflow:hidden;z-index:71;border:1px solid var(--border);
}
.sklad-movements__modalHeader{display:flex;justify-content:space-between;align-items:center;padding:14px var(--hpad);border-bottom:1px solid var(--border);background:#fff}
.sklad-movements__modalTitle{margin:0;font-size:18px;font-weight:900}
.sklad-movements__iconBtn{background:none;border:0;color:var(--muted);font-size:18px;cursor:pointer}
.sklad-movements__iconBtn:hover{color:var(--text)}

/* форма в модалке */
.sklad-movements__form{display:grid;grid-template-rows:auto 1fr auto;min-height:0}
.sklad-movements__grid{padding:16px var(--hpad);display:grid;grid-template-columns:1fr 1fr 1fr;gap:14px}
.sklad-movements__field{display:grid;gap:6px}
.sklad-movements__label{font-size:14px;font-weight:700;color:var(--muted)}
.sklad-movements__req{color:#ef4444}
.sklad-movements__input{width:100%;border:1px solid var(--border);border-radius:10px;padding:10px 12px;background:#fff}
.sklad-movements__input:focus{outline:none;border-color:var(--primary)}
.sklad-movements__input--readonly{background:#f8fafc}

/* позиции в модалке */
.sklad-movements-items{margin:6px var(--hpad) 0;border:1px solid var(--border);border-radius:12px;overflow:hidden;background:#fff}
.sklad-movements-items__head,
.sklad-movements-items__row{display:grid;align-items:center;grid-template-columns:1.6fr 160px 160px 160px}
.sklad-movements-items__head{background:rgba(0,0,0,.03);font-weight:800}
.sklad-movements-items__col,
.sklad-movements-items__row>*{padding:10px 12px;border-bottom:1px solid var(--border)}
.sklad-movements-items__row:last-child>*{border-bottom:none}
.sklad-movements-items__footer{padding:12px;display:flex}

/* footer модалки */
.sklad-movements__footer{border-top:1px solid var(--border);padding:12px var(--hpad);display:flex;gap:10px;align-items:center;justify-content:flex-end;background:#fff;flex-wrap:wrap}
.sklad-movements__spacer{flex:1 1 auto}

/* =========================
   АДАПТАЦИЯ
   ========================= */

@media (max-width:1024px){
  .sklad-movements__grid{ grid-template-columns:1fr 1fr; }
  .sklad-movements-items__head,
  .sklad-movements-items__row{ grid-template-columns:1.2fr 140px 140px 140px; }
}

/* МОБИЛКА: строки таблицы как карточки */
@media (max-width:768px){
  .sklad-movements{ padding:16px; font-size:14px; }
  .sklad-movements__title{ font-size:18px; }
  .sklad-movements__header{ grid-template-columns:1fr; }
  .sklad-movements__actions{ justify-self:stretch; flex-wrap:wrap; }
  .sklad-movements__searchInput{ width:100%; }
  .sklad-movements__btn{ padding:9px 12px; font-size:14px; }
  .sklad-movements__btn--primary{ width:100%; justify-content:center; }
  .sklad-movements__badge{ font-size:12px; padding:3px 8px; }

  .sklad-movements-table thead{ display:none; }

  .sklad-movements-table__row{
    display:block;
    padding:10px 12px;
    background:#fff;
    border-bottom:1px solid var(--border);
  }
  .sklad-movements-table__row:nth-child(even){ background:#fafafa; }

  .sklad-movements-table__row .sklad-movements-table__col{
    padding:0; border-bottom:0;
    display:flex; gap:10px; align-items:baseline;
  }
  .sklad-movements-table__col:nth-child(1)::before{ content:"Номер"; }
  .sklad-movements-table__col:nth-child(2)::before{ content:"Дата"; }
  .sklad-movements-table__col:nth-child(3)::before{ content:"Контрагент"; }
  .sklad-movements-table__col:nth-child(4)::before{ content:"Склад"; }
  .sklad-movements-table__col:nth-child(5)::before{ content:"Сумма"; }
  .sklad-movements-table__col:nth-child(6)::before{ content:"Статус"; }
  .sklad-movements-table__col::before{
    flex:0 0 42%; color:var(--muted); font-weight:700; white-space:nowrap; font-size:13px;
  }
  .sklad-movements-table__row > .sklad-movements-table__col:last-child{
    justify-content:flex-end; margin-top:4px;
  }

  /* модалка — уже, форма в одну колонку */
  .sklad-movements__modal{ width:92vw; }
  .sklad-movements__grid{ grid-template-columns:1fr; }

  /* позиции внутри модалки: первый select на всю ширину, числа ниже */
  .sklad-movements-items__head{ display:none; }
  .sklad-movements-items__row{
    grid-template-columns:1fr 1fr;
    column-gap:10px; row-gap:8px; padding:10px 12px;
  }
  .sklad-movements-items__row > :nth-child(1){ grid-column:1 / -1; }
}

/* сверх-компактный режим для узких экранов */
@media (max-width:360px){
  .sklad-movements{ padding:12px; }
  .sklad-movements__tab{ padding:8px 10px; }
  .sklad-movements__btn{ padding:8px 10px; font-size:13px; }
  .sklad-movements__badge{ font-size:11px; padding:2px 7px; }
}
