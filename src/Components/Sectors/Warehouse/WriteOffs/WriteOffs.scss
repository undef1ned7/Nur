:root{
  --primary:#f7d74f;
  --primary-dark:#d4b800;
  --text:#0f172a;
  --muted:#6b7280;
  --border:#e5e7eb;
  --surface:#fff;
}

.sklad-writeoff,
.sklad-writeoff * { box-sizing: border-box; }

/* ====== Контейнер ====== */
.sklad-writeoff{
  --radius:14px; --shadow:0 10px 30px rgba(2,6,23,.12);
  --hpad:20px;

  background:var(--surface);
  border-radius:var(--radius);
  box-shadow:0 4px 16px rgba(0,0,0,.05);
  padding:24px;
  display:flex; flex-direction:column; gap:18px;
  color:var(--text);
}

/* ====== Header ====== */
.sklad-writeoff__header{display:grid;grid-template-columns:1fr auto;gap:12px;align-items:end}
.sklad-writeoff__titleWrap{display:grid;gap:4px}
.sklad-writeoff__title{margin:0;font-weight:800;font-size:20px;display:inline-flex;gap:8px;align-items:center}
.sklad-writeoff__subtitle{font-size:13px;color:var(--muted)}
.sklad-writeoff__actions{display:flex;gap:10px;align-items:center;justify-self:end}

/* search */
.sklad-writeoff__search{position:relative}
.sklad-writeoff__searchInput{
  width:clamp(220px,32vw,320px);
  padding:10px 12px;border:1px solid var(--border);border-radius:12px;background:#fff;font-size:14px;
}
.sklad-writeoff__searchInput:focus{outline:none;border-color:var(--primary)}

/* buttons */
.sklad-writeoff__btn{
  display:inline-flex;align-items:center;gap:8px;
  padding:10px 14px;border-radius:12px;border:1px solid transparent;background:#fff;color:var(--text);font-weight:800;cursor:pointer;transition:.18s;
}
.sklad-writeoff__btn:active{transform:translateY(1px)}
.sklad-writeoff__btn--primary{background:var(--primary)}
.sklad-writeoff__btn--primary:hover{background:var(--primary-dark)}
.sklad-writeoff__btn--secondary{border:1px solid var(--border)}
.sklad-writeoff__btn--secondary:hover{background:#f9fafb}
.sklad-writeoff__btnText{display:inline}

/* ====== Таблица (десктоп) ====== */
.sklad-writeoff-table{
  border:1px solid var(--border);border-radius:12px;overflow:hidden;background:#fff;
}
.sklad-writeoff-table__table{width:100%;border-collapse:collapse;border-spacing:0}
.sklad-writeoff-table__head{background:rgba(0,0,0,.03);font-weight:800}
.sklad-writeoff-table__head .sklad-writeoff-table__col,
.sklad-writeoff-table__row .sklad-writeoff-table__col{
  padding:10px 14px;border-bottom:1px solid var(--border);line-height:1.35;word-break:break-word;text-align:left;
}
.sklad-writeoff-table__row:last-child .sklad-writeoff-table__col{border-bottom:none}
.sklad-writeoff-table__empty{padding:14px;text-align:center;color:var(--muted)}
.sklad-writeoff-table__table th:nth-child(1){width:140px}
.sklad-writeoff-table__table th:nth-child(2){width:120px}
.sklad-writeoff-table__table th:nth-child(3){min-width:120px}

/* ====== Пагинация ====== */
.sklad-writeoff__pager{display:flex;justify-content:center;margin-top:10px;flex-wrap:wrap}
.sklad-writeoff__pageList{display:flex;gap:6px;list-style:none;margin:0;padding:0}
.sklad-writeoff__pageBtn{border:1px solid var(--border);background:#fff;padding:8px 12px;border-radius:10px;cursor:pointer}
.sklad-writeoff__pageBtn:hover{background:#f9fafb}
.sklad-writeoff__pageBtn.is-active{background:var(--primary);border-color:var(--primary);color:#111}

/* ====== Модалка (всегда по центру) ====== */
.sklad-writeoff__overlay{
  position:fixed; inset:0; background:rgba(15,23,42,.55);
  backdrop-filter:saturate(140%) blur(2px); z-index:70;
}
.sklad-writeoff__modal{
  position:fixed; left:50%; top:50%; transform:translate(-50%,-50%);
  width:min(800px,96vw); max-height:min(92vh,740px);
  background:#fff; border-radius:14px; box-shadow:var(--shadow);
  display:grid; grid-template-rows:auto 1fr; overflow:hidden; z-index:71; border:1px solid var(--border);
}
.sklad-writeoff__modalHeader{
  display:flex; justify-content:space-between; align-items:center;
  padding:14px var(--hpad); border-bottom:1px solid var(--border); background:#fff;
}
.sklad-writeoff__modalTitle{margin:0;font-size:18px;font-weight:900}
.sklad-writeoff__iconBtn{background:none;border:0;color:var(--muted);font-size:18px;cursor:pointer}
.sklad-writeoff__iconBtn:hover{color:var(--text)}

/* ====== Форма в модалке ====== */
.sklad-writeoff__form{display:grid;grid-template-rows:auto 1fr auto;min-height:0}
.sklad-writeoff__grid{padding:16px var(--hpad);display:grid;grid-template-columns:1fr 1fr;gap:14px}
.sklad-writeoff__field{display:grid;gap:6px}
.sklad-writeoff__field--full{grid-column:1 / -1}
.sklad-writeoff__label{font-size:14px;font-weight:700;color:var(--muted)}
.sklad-writeoff__req{color:#ef4444}
.sklad-writeoff__input{width:100%;border:1px solid var(--border);border-radius:10px;padding:10px 12px;background:#fff}
.sklad-writeoff__input:focus{outline:none;border-color:var(--primary)}

/* ====== Позиции в модалке ====== */
.sklad-writeoff-items{
  margin:6px var(--hpad) 0; border:1px solid var(--border); border-radius:12px; overflow:hidden; background:#fff;
}
.sklad-writeoff-items__head,
.sklad-writeoff-items__row{display:grid;align-items:center;grid-template-columns:1.6fr 200px}
.sklad-writeoff-items__head{background:rgba(0,0,0,.03);font-weight:800}
.sklad-writeoff-items__col,
.sklad-writeoff-items__row>*{padding:10px 12px;border-bottom:1px solid var(--border)}
.sklad-writeoff-items__row:last-child>*{border-bottom:none}
.sklad-writeoff-items__footer{padding:12px;display:flex}

/* ====== Футер модалки ====== */
.sklad-writeoff__footer{
  border-top:1px solid var(--border);
  padding:12px var(--hpad);
  display:flex; gap:10px; align-items:center; justify-content:flex-end; background:#fff; flex-wrap:wrap;
}
.sklad-writeoff__spacer{flex:1 1 auto}

/* ===================== АДАПТАЦИЯ ===================== */
@media (max-width:768px){
  .sklad-writeoff{ padding:16px; }
  .sklad-writeoff__title{ font-size:18px; }
  .sklad-writeoff__header{ grid-template-columns:1fr; }
  .sklad-writeoff__actions{ justify-self:stretch; flex-wrap:wrap; }
  .sklad-writeoff__searchInput{ width:100%; }
  .sklad-writeoff__btn--primary{ width:100%; justify-content:center; }

  .sklad-writeoff-table thead{ display:none; }

  .sklad-writeoff-table__row{
    display:block;
    padding:10px 12px;
    background:#fff;
    border-bottom:1px solid var(--border);
  }
  .sklad-writeoff-table__row:nth-child(even){ background:#fafafa; }

  .sklad-writeoff-table__row .sklad-writeoff-table__col{
    padding:0; border-bottom:0;
    display:flex; gap:10px; align-items:baseline;
  }
  .sklad-writeoff-table__col:nth-child(1)::before{ content:"Номер"; }
  .sklad-writeoff-table__col:nth-child(2)::before{ content:"Дата"; }
  .sklad-writeoff-table__col:nth-child(3)::before{ content:"Склад"; }
  .sklad-writeoff-table__col:nth-child(4)::before{ content:"Сумма"; }
  .sklad-writeoff-table__col:nth-child(5)::before{ content:"Статус"; }
  .sklad-writeoff-table__col:nth-child(6)::before{ content:"Комментарий"; }
  .sklad-writeoff-table__col::before{
    flex:0 0 42%; color:var(--muted); font-weight:700; white-space:nowrap; font-size:13px;
  }

  .sklad-writeoff__modal{ width:92vw; }
  .sklad-writeoff__grid{ grid-template-columns:1fr; }

  .sklad-writeoff-items__head{ display:none; }
  .sklad-writeoff-items__row{
    grid-template-columns:1fr 1fr;
    column-gap:10px; row-gap:8px; padding:10px 12px;
  }
  .sklad-writeoff-items__row > :nth-child(1){ grid-column:1 / -1; }
}

@media (max-width:360px){
  .sklad-writeoff{ padding:12px; }
  .sklad-writeoff__btn{ padding:8px 10px; font-size:13px; }
}
