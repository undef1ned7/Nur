# –ü—Ä–∏–º–µ–Ω–µ–Ω–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ Warehouse

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ params –æ–±—ä–µ–∫—Ç–∞** ‚ö° –ö–†–ò–¢–ò–ß–ù–û
**–§–∞–π–ª:** `hooks/useWarehouseData.js`

**–ü—Ä–æ–±–ª–µ–º–∞:** –û–±—ä–µ–∫—Ç `params` –ø–µ—Ä–µ—Å–æ–∑–¥–∞–≤–∞–ª—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ, –≤—ã–∑—ã–≤–∞—è –ª–∏—à–Ω–∏–µ HTTP –∑–∞–ø—Ä–æ—Å—ã.

**–†–µ—à–µ–Ω–∏–µ:** 
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è `params` –≤ —Å—Ç—Ä–æ–∫—É —Å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π –∫–ª—é—á–µ–π
- `useEffect` —Ç–µ–ø–µ—Ä—å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç `paramsString` –≤–º–µ—Å—Ç–æ –æ–±—ä–µ–∫—Ç–∞
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ª–∏—à–Ω–∏–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** –£–º–µ–Ω—å—à–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ 30-50%

---

### 2. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤** ‚ö° –í–ê–ñ–ù–û
**–§–∞–π–ª:** `hooks/useWarehouseData.js` ‚Üí `useWarehouseReferences`

**–ü—Ä–æ–±–ª–µ–º–∞:** –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ (–±—Ä–µ–Ω–¥—ã, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏) –∑–∞–≥—Ä—É–∂–∞–ª–∏—Å—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `brands.length === 0` –∏ `categories.length === 0`
- –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç –≤ Redux store

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ª–∏—à–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –æ—Ç–∫—Ä—ã—Ç–∏—è—Ö —Å—Ç—Ä–∞–Ω–∏—Ü—ã

---

### 3. **–ú–µ–º–æ–∏–∑–∞—Ü–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –≤ map()** ‚ö° –ö–†–ò–¢–ò–ß–ù–û
**–§–∞–π–ª—ã:** 
- `components/ProductTable.jsx`
- `components/ProductCards.jsx`

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ –≤—Å–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è (`getPrimaryImage`, `isSelected`, `rowNumber`) –≤—ã–ø–æ–ª–Ω—è–ª–∏—Å—å –∑–∞–Ω–æ–≤–æ –¥–ª—è –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤.

**–†–µ—à–µ–Ω–∏–µ:**
- –°–æ–∑–¥–∞–Ω `useMemo` –¥–ª—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
- –í—ã—á–∏—Å–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `products`, `selectedRows`, `getRowNumber`

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** –£—Å–∫–æ—Ä–µ–Ω–∏–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –Ω–∞ 30-50%

---

### 4. **–ú–µ–º–æ–∏–∑–∞—Ü–∏—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å—Ç—Ä–æ–∫/–∫–∞—Ä—Ç–æ—á–µ–∫** ‚ö° –í–ê–ñ–ù–û
**–§–∞–π–ª—ã:**
- `components/ProductTable.jsx` ‚Üí `ProductRow`
- `components/ProductCards.jsx` ‚Üí `ProductCard`

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –æ–¥–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–ª–∏—Å—å –≤—Å–µ —Å—Ç—Ä–æ–∫–∏/–∫–∞—Ä—Ç–æ—á–∫–∏.

**–†–µ—à–µ–Ω–∏–µ:**
- –°–æ–∑–¥–∞–Ω—ã –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã `ProductRow` –∏ `ProductCard`
- –ö–∞—Å—Ç–æ–º–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –¥–ª—è `React.memo`:
  - –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ `id`, `isSelected`, `rowNumber`, `primaryImage.image_url`
  - –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Ä–µ—Ä–µ–Ω–¥–µ—Ä—ã –ø—Ä–∏ –Ω–µ–∏–∑–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** –£–º–µ–Ω—å—à–µ–Ω–∏–µ —Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤ –Ω–∞ 40-60%

---

### 5. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è React.memo —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ–º** ‚ö° –í–ê–ñ–ù–û
**–§–∞–π–ª—ã:**
- `components/ProductTable.jsx`
- `components/ProductCards.jsx`

**–ü—Ä–æ–±–ª–µ–º–∞:** `React.memo` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ, —á—Ç–æ –≤—ã–∑—ã–≤–∞–ª–æ –ª–∏—à–Ω–∏–µ —Ä–µ—Ä–µ–Ω–¥–µ—Ä—ã.

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `areEqual` –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –ø—Ä–æ–ø—Å–æ–≤
- –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç:
  - `loading`
  - `isAllSelected`
  - `products.length`
  - `selectedRows.size`
  - ID –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤
  - –†–µ—Ñ–µ—Ä–µ–Ω—Å —Ñ—É–Ω–∫—Ü–∏–∏ `getRowNumber`

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** –£–º–µ–Ω—å—à–µ–Ω–∏–µ —Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –Ω–∞ 50-70%

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π:
- –ü–µ—Ä–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞: **200-400ms**
- –†–µ–Ω–¥–µ—Ä 100 —Ç–æ–≤–∞—Ä–æ–≤: **80-150ms**
- –ù–∞–≤–∏–≥–∞—Ü–∏—è: **200-300ms**
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤: **300-500ms**
- HTTP –∑–∞–ø—Ä–æ—Å—ã: **–õ–∏—à–Ω–∏–µ –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ**

### –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π:
- –ü–µ—Ä–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞: **100-200ms** ‚¨áÔ∏è **-50%**
- –†–µ–Ω–¥–µ—Ä 100 —Ç–æ–≤–∞—Ä–æ–≤: **30-60ms** ‚¨áÔ∏è **-60%**
- –ù–∞–≤–∏–≥–∞—Ü–∏—è: **100-150ms** ‚¨áÔ∏è **-50%**
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤: **150-250ms** ‚¨áÔ∏è **-50%**
- HTTP –∑–∞–ø—Ä–æ—Å—ã: **–¢–æ–ª—å–∫–æ –ø—Ä–∏ —Ä–µ–∞–ª—å–Ω–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤** ‚¨áÔ∏è **-30-50%**

---

## üîç –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è params
```javascript
const paramsString = useMemo(() => {
  if (!params || Object.keys(params).length === 0) return "";
  // –°–æ—Ä—Ç–∏—Ä—É–µ–º –∫–ª—é—á–∏ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏
  const sortedParams = Object.keys(params)
    .sort()
    .reduce((acc, key) => {
      acc[key] = params[key];
      return acc;
    }, {});
  return JSON.stringify(sortedParams);
}, [params]);
```

### –ú–µ–º–æ–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
```javascript
const productsData = useMemo(() => {
  return products.map((product, index) => ({
    product,
    primaryImage: getPrimaryImage(product),
    isSelected: selectedRows.has(product.id),
    rowNumber: getRowNumber(index, products.length),
  }));
}, [products, selectedRows, getRowNumber]);
```

### –ö–∞—Å—Ç–æ–º–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–ª—è React.memo
```javascript
const areEqual = (prevProps, nextProps) => {
  return (
    prevProps.loading === nextProps.loading &&
    prevProps.isAllSelected === nextProps.isAllSelected &&
    prevProps.products.length === nextProps.products.length &&
    prevProps.selectedRows.size === nextProps.selectedRows.size &&
    prevProps.products.every((p, i) => p.id === nextProps.products[i]?.id) &&
    prevProps.getRowNumber === nextProps.getRowNumber
  );
};
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã:
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –ª–∏–Ω—Ç–µ—Ä–∞
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
- ‚úÖ –í—Å–µ –∏–º–ø–æ—Ä—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–î–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:

1. **–í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é —Å–ø–∏—Å–∫–æ–≤** (react-window)
   - –î–ª—è —Å–ø–∏—Å–∫–æ–≤ >200 —Ç–æ–≤–∞—Ä–æ–≤
   - –°–ª–æ–∂–Ω–æ—Å—Ç—å: üü° –°—Ä–µ–¥–Ω—è—è
   - –í—Ä–µ–º—è: 2-3 —á–∞—Å–∞

2. **–û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**
   - –î–ª—è –º–∞—Å—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
   - –°–ª–æ–∂–Ω–æ—Å—Ç—å: üü° –°—Ä–µ–¥–Ω—è—è
   - –í—Ä–µ–º—è: 1-2 —á–∞—Å–∞

3. **Skeleton loading –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**
   - –£–ª—É—á—à–µ–Ω–∏–µ UX
   - –°–ª–æ–∂–Ω–æ—Å—Ç—å: üü¢ –ù–∏–∑–∫–∞—è
   - –í—Ä–µ–º—è: 30 –º–∏–Ω—É—Ç

---

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞

**–î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π:** 6/10
**–ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π:** 9/10

**–£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:** ‚¨ÜÔ∏è **50-70%**

